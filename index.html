<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë‚˜ì˜ íˆ¬ì ì„±í–¥ ë¶„ì„</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root { --primary: #4F46E5; --bg: #F3F4F6; }
    body { font-family: 'Pretendard', sans-serif; background: var(--bg); margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
    .container { width: 100%; max-width: 420px; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); margin: 20px; position: relative; overflow: hidden; }
    
    /* ì§„í–‰ë°” */
    .progress-container { width: 100%; background: #e0e0e0; height: 6px; border-radius: 3px; margin-bottom: 20px; }
    .progress-bar { height: 100%; background: var(--primary); width: 0%; transition: width 0.3s; border-radius: 3px; }

    /* ì§ˆë¬¸ ì¹´ë“œ */
    .question-box { display: none; animation: fadeIn 0.5s; }
    .question-box.active { display: block; }
    h2 { font-size: 1.4rem; color: #333; margin-bottom: 20px; line-height: 1.4; }
    
    /* ì„ íƒ ë²„íŠ¼ */
    .options { display: flex; flex-direction: column; gap: 10px; }
    .option-btn {
      padding: 15px; border: 2px solid #e5e7eb; border-radius: 12px; background: white;
      font-size: 1rem; cursor: pointer; transition: all 0.2s; text-align: left;
    }
    .option-btn:hover, .option-btn:active { border-color: var(--primary); background: #EEF2FF; color: var(--primary); font-weight: bold; }

    /* ê²°ê³¼ í™”ë©´ */
    #resultBox { display: none; text-align: center; }
    .result-tag { display: inline-block; padding: 6px 12px; background: #EEF2FF; color: var(--primary); border-radius: 20px; font-weight: bold; margin-bottom: 10px; }
    .result-title { font-size: 1.8rem; margin: 10px 0; color: #111; }
    .chart-container { margin: 20px 0; }
    .advice-box { background: #F9FAFB; padding: 15px; border-radius: 10px; text-align: left; font-size: 0.95rem; color: #555; line-height: 1.6; margin-top: 15px;}
    
    /* ì• ë‹ˆë©”ì´ì…˜ */
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    
    .start-btn { width: 100%; padding: 15px; background: var(--primary); color: white; border: none; border-radius: 12px; font-size: 1.1rem; cursor: pointer; font-weight: bold; }
  </style>
</head>
<body>

<div class="container">
  <div id="intro">
    <h1 style="text-align:center;">ğŸ’° íˆ¬ì ì„±í–¥ ì§„ë‹¨</h1>
    <p style="text-align:center; color:#666; margin-bottom:30px;">
      10ê°€ì§€ ì§ˆë¬¸ì„ í†µí•´ ë‹¹ì‹ ì—ê²Œ ë”± ë§ëŠ”<br>ì—ë“€í…Œí¬ íˆ¬ì í•™ìŠµë²•ì„ ì•Œì•„ë³´ì„¸ìš”.
    </p>
    <button class="start-btn" onclick="startSurvey()">ì§„ë‹¨ ì‹œì‘í•˜ê¸°</button>
  </div>

  <div id="quiz" style="display:none;">
    <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>
    <div id="questionContainer"></div>
  </div>

  <div id="resultBox">
    <span class="result-tag" id="resultTypeSub">ë¶„ì„ ì™„ë£Œ</span>
    <h1 class="result-title" id="resultType"></h1>
    
    <div class="chart-container">
      <canvas id="resultChart"></canvas>
    </div>

    <p id="resultProduct" style="font-weight:bold; color:#4F46E5;"></p>
    
    <div class="advice-box">
      <strong>ğŸ’¡ ë§ì¶¤í˜• í•™ìŠµ ì¡°ì–¸:</strong><br>
      <span id="resultAdvice"></span>
    </div>

    <button class="start-btn" style="margin-top:20px; background:#333;" onclick="location.reload()">ë‹¤ì‹œ í•˜ê¸°</button>
  </div>
</div>

<script>
  // ì§ˆë¬¸ ë°ì´í„° (ê¸°ì¡´ ë‚´ìš© í™œìš© + ì¹´í…Œê³ ë¦¬ ì¶”ê°€)
  // category: 1=ë„ì „/ìœ„í—˜ê°ìˆ˜, 2=í•™ìŠµ/ë¶„ì„, 3=ê²½í—˜/ì§ê´€ (ì°¨íŠ¸ìš© ê°€ìƒ ë¶„ë¥˜)
  const questions = [
    { t: "ìµìˆ™í•œ ê¸¸ë³´ë‹¤ ìƒˆë¡œìš´ ë„ì „ì„ í†µí•´ ì–»ëŠ” ì„±ê³¼ê°€ ë” ì¤‘ìš”í•˜ë‹¤.", cat: "risk" },
    { t: "ì‹¤íŒ¨í•´ë„ ì¢Œì ˆí•˜ì§€ ì•Šê³  ë‹¤ìŒ ê¸°íšŒë¥¼ ë¹ ë¥´ê²Œ ì¤€ë¹„í•œë‹¤.", cat: "risk" },
    { t: "ì¥ê¸°ì  ë…¸ë ¥ë³´ë‹¤ ë‹¨ê¸°ê°„ì˜ ë¹ ë¥¸ ì„±ê³¼ë¥¼ ì„ í˜¸í•œë‹¤.", cat: "risk" },
    { t: "ê²€ì¦ëœ ë§›ì§‘ë³´ë‹¤ ìƒˆë¡œìš´ ì‹ë‹¹ì„ ì°¾ì•„ë‹¤ë‹ˆëŠ” ê²ƒì„ ì¦ê¸´ë‹¤.", cat: "exp" },
    { t: "ê³„íšë³´ë‹¤ëŠ” ì¦‰í¥ì ìœ¼ë¡œ ì›€ì§ì´ëŠ” ê²ƒì„ ì¦ê¸´ë‹¤.", cat: "exp" },
    { t: "ì—¬ê°€ ì‹œê°„ì— ìƒˆë¡œìš´ ì§€ì‹ì„ ë°°ìš°ê±°ë‚˜ ë¶„ì„í•˜ëŠ” ê±¸ ì¢‹ì•„í•œë‹¤.", cat: "study" },
    { t: "í•œ ë¶„ì•¼ ì „ë¬¸ê°€ë³´ë‹¤ ë‹¤ì–‘í•œ ë¶„ì•¼ì˜ í­ë„“ì€ ê²½í—˜ì„ ì¤‘ì‹œí•œë‹¤.", cat: "exp" },
    { t: "ë¶ˆí¸í•˜ë”ë¼ë„ ì´ë“ì´ ë” ë§ì€ ìª½ì„ ë¬´ì¡°ê±´ ì„ íƒí•œë‹¤.", cat: "study" },
    { t: "ê°ì •ì  ì¶©ê²© ìƒí™©ì—ì„œë„ ì´ì„±ì ìœ¼ë¡œ íŒë‹¨í•˜ë ¤ ë…¸ë ¥í•œë‹¤.", cat: "study" },
    { t: "ëª¨ë¥´ëŠ” ë¶„ì•¼ì— ëŒ€í•´ ìŠ¤ìŠ¤ë¡œ ì •ë³´ë¥¼ ì°¾ì•„ ê³µë¶€í•˜ëŠ” ê±¸ ì¦ê¸´ë‹¤.", cat: "study" }
  ];

  let currentStep = 0;
  let scores = { risk: 0, study: 0, exp: 0 }; // ì¹´í…Œê³ ë¦¬ë³„ ì ìˆ˜
  let totalScore = 0;

  function startSurvey() {
    document.getElementById('intro').style.display = 'none';
    document.getElementById('quiz').style.display = 'block';
    renderQuestion();
  }

  function renderQuestion() {
    const container = document.getElementById('questionContainer');
    container.innerHTML = '';
    
    const q = questions[currentStep];
    const percent = ((currentStep) / questions.length) * 100;
    document.getElementById('progressBar').style.width = percent + '%';

    const qHTML = `
      <div class="question-box active">
        <h2>Q${currentStep + 1}.<br>${q.t}</h2>
        <div class="options">
          <button class="option-btn" onclick="next(1, '${q.cat}')">ë§¤ìš° ê·¸ë ‡ì§€ ì•Šë‹¤ (1ì )</button>
          <button class="option-btn" onclick="next(2, '${q.cat}')">ê·¸ë ‡ì§€ ì•Šë‹¤ (2ì )</button>
          <button class="option-btn" onclick="next(3, '${q.cat}')">ë³´í†µì´ë‹¤ (3ì )</button>
          <button class="option-btn" onclick="next(4, '${q.cat}')">ê·¸ë ‡ë‹¤ (4ì )</button>
          <button class="option-btn" onclick="next(5, '${q.cat}')">ë§¤ìš° ê·¸ë ‡ë‹¤ (5ì )</button>
        </div>
      </div>
    `;
    container.innerHTML = qHTML;
  }

  function next(score, category) {
    totalScore += score;
    scores[category] += score; // ì°¨íŠ¸ìš© ì ìˆ˜ ëˆ„ì 
    
    currentStep++;
    if (currentStep < questions.length) {
      renderQuestion();
    } else {
      showResult();
    }
  }

  function showResult() {
    document.getElementById('quiz').style.display = 'none';
    document.getElementById('resultBox').style.display = 'block';

    let type, product, advice;
    if (totalScore <= 20) {
        type = "ì•ˆì •í˜• (Stability Focus)";
        product = "ì¶”ì²œ ìƒí’ˆ: ì˜ˆê¸ˆ, êµ­ì±„";
        advice = "ì›ê¸ˆ ë³´ì¥ì´ ìµœìš°ì„ ì…ë‹ˆë‹¤. ê¸ˆìœµ ì´í•´ë„ë¥¼ ë†’ì´ëŠ” ê¸°ì´ˆ ê°•ì˜ë¶€í„° ìˆ˜ê°•í•´ë³´ì„¸ìš”.";
    } else if (totalScore <= 30) {
        type = "ì•ˆì • ì¶”êµ¬í˜• (Goal-Oriented)";
        product = "ì¶”ì²œ ìƒí’ˆ: ì ê¸ˆ, ì±„ê¶Œ í˜¼í•©í˜• í€ë“œ";
        advice = "ëª©í‘œ ë‹¬ì„±ì„ ìœ„í•´ ê¾¸ì¤€í•¨ì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ìì‚° ë°°ë¶„ ì‹œë®¬ë ˆì´ì…˜ì„ í†µí•´ í¬íŠ¸í´ë¦¬ì˜¤ ê°ê°ì„ ìµíˆì„¸ìš”.";
    } else if (totalScore <= 40) {
        type = "ìœ„í—˜ ì¤‘ë¦½í˜• (Market Follower)";
        product = "ì¶”ì²œ ìƒí’ˆ: ETF, ë°°ë‹¹ì£¼";
        advice = "ì‹œì¥ íë¦„ì„ ì˜ ì½ìœ¼ì‹œëŠ”êµ°ìš”. ì‹¤ì‹œê°„ ì‹œì¥ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ëŠ” íˆ´ì„ í™œìš©í•´ íˆ¬ìë¥¼ ê³ ë„í™”í•˜ì„¸ìš”.";
    } else {
        type = "ê³µê²©í˜• (Aggressive Growth)";
        product = "ì¶”ì²œ ìƒí’ˆ: ì£¼ì‹, ì•”í˜¸í™”í, íŒŒìƒìƒí’ˆ";
        advice = "í•˜ì´ ë¦¬ìŠ¤í¬, í•˜ì´ ë¦¬í„´! í•˜ì§€ë§Œ ê°ë³´ë‹¤ ë°ì´í„°ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤. ì•Œê³ ë¦¬ì¦˜ íŠ¸ë ˆì´ë”©ì´ë‚˜ ì°¨íŠ¸ ë¶„ì„ ì‹¬í™” ê³¼ì •ì„ ì¶”ì²œí•©ë‹ˆë‹¤.";
    }

    document.getElementById('resultType').innerText = type;
    document.getElementById('resultProduct').innerText = product;
    document.getElementById('resultAdvice').innerText = advice;

    // ì°¨íŠ¸ ê·¸ë¦¬ê¸° (Radar Chart)
    const ctx = document.getElementById('resultChart').getContext('2d');
    new Chart(ctx, {
      type: 'radar',
      data: {
        labels: ['ìœ„í—˜ ê°ìˆ˜(Risk)', 'í•™ìŠµ ì„±í–¥(Study)', 'ê²½í—˜ ì¤‘ì‹œ(Exp)'],
        datasets: [{
          label: 'ë‚˜ì˜ ì„±í–¥',
          data: [scores.risk, scores.study, scores.exp],
          backgroundColor: 'rgba(79, 70, 229, 0.2)',
          borderColor: '#4F46E5',
          pointBackgroundColor: '#4F46E5',
        }]
      },
      options: {
        scales: {
          r: {
            beginAtZero: true,
            max: 20, // ë¬¸í•­ ìˆ˜ì— ë”°ë¼ ì¡°ì ˆ (ì—¬ê¸°ì„  ëŒ€ëµì ì¸ ìµœëŒ€ì¹˜)
            ticks: { display: false } // ëˆˆê¸ˆ ìˆ«ì ìˆ¨ê¹€
          }
        }
      }
    });
  }
</script>

</body>
</html>
