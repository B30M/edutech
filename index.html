<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ëŒ€í•™ìƒ íˆ¬ì ì„±í–¥ ë¦¬í¬íŠ¸</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    /* V3 ë””ìì¸ (ëŒ€í•™ìƒ íƒ€ê²Ÿ ê·¸ë¼ë°ì´ì…˜ í…Œë§ˆ) ìœ ì§€ */
    :root { --primary: #6366f1; --accent: #8b5cf6; --bg: #f8fafc; }
    body { font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif; background: linear-gradient(135deg, #e0e7ff 0%, #f3e8ff 100%); margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; color: #333; }
    
    .container { width: 90%; max-width: 460px; background: rgba(255, 255, 255, 0.95); padding: 32px; border-radius: 24px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); backdrop-filter: blur(10px); position: relative; overflow: hidden; }
    
    /* íƒ€ì´í‹€ */
    h1 { font-size: 1.8rem; text-align: center; background: linear-gradient(to right, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 10px; font-weight: 800; }
    .subtitle { text-align: center; color: #64748b; font-size: 0.95rem; margin-bottom: 30px; line-height: 1.5; }

    /* ì§„í–‰ë°” */
    .progress-container { width: 100%; background: #e2e8f0; height: 8px; border-radius: 4px; margin-bottom: 24px; overflow: hidden; }
    .progress-bar { height: 100%; background: linear-gradient(90deg, var(--primary), var(--accent)); width: 0%; transition: width 0.4s ease; border-radius: 4px; }

    /* ì§ˆë¬¸ ì¹´ë“œ */
    .question-box { display: none; animation: slideUp 0.4s ease-out; }
    .question-box.active { display: block; }
    h2 { font-size: 1.2rem; color: #1e293b; margin-bottom: 20px; line-height: 1.5; font-weight: 700; word-break: keep-all; }
    
    /* 5ì§€ ì„ ë‹¤ ì˜µì…˜ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    .options { display: flex; flex-direction: column; gap: 10px; }
    .option-btn {
      padding: 14px; border: 2px solid #e2e8f0; border-radius: 12px; background: white;
      font-size: 0.95rem; cursor: pointer; transition: all 0.2s; text-align: left; color: #475569; font-weight: 500;
      position: relative; overflow: hidden;
    }
    .option-btn:hover { border-color: var(--primary); background: #eef2ff; color: var(--primary); transform: translateY(-2px); box-shadow: 0 4px 12px rgba(99, 102, 241, 0.1); }
    .option-btn:active { transform: scale(0.98); }

    /* ë¡œë”© í™”ë©´ */
    #loadingScreen { display: none; text-align: center; padding: 40px 0; }
    .spinner { width: 50px; height: 50px; border: 5px solid #e2e8f0; border-top: 5px solid var(--primary); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 20px; }
    .loading-text { font-size: 1.1rem; color: #64748b; font-weight: 600; }

    /* ê²°ê³¼ í™”ë©´ */
    #resultBox { display: none; text-align: center; animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    .badge { display: inline-block; padding: 8px 16px; background: #eef2ff; color: var(--primary); border-radius: 30px; font-weight: 700; font-size: 0.9rem; margin-bottom: 12px; border: 1px solid #c7d2fe; }
    .result-name { font-size: 1.8rem; margin: 0 0 20px 0; color: #1e293b; font-weight: 800; line-height: 1.3; word-break: keep-all; }
    
    /* ì°¨íŠ¸ ì˜ì—­ */
    .chart-container { position: relative; height: 250px; width: 100%; margin: 20px auto; }
    
    /* ê²°ê³¼ í…ìŠ¤íŠ¸ ì¹´ë“œ */
    .result-card { background: #f8fafc; border: 1px solid #e2e8f0; padding: 20px; border-radius: 16px; text-align: left; margin-top: 24px; box-shadow: inset 0 2px 4px rgba(0,0,0,0.02); }
    .card-item { margin-bottom: 12px; }
    .card-label { font-size: 0.9rem; color: #64748b; font-weight: 700; display: block; margin-bottom: 4px; }
    .card-value { font-size: 1rem; color: #334155; line-height: 1.5; font-weight: 500; }
    .highlight { color: var(--primary); font-weight: 700; }

    /* ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ */
    .password-section { margin: 30px 0; text-align: center; }
    .pw-input { width: 60%; padding: 14px; font-size: 18px; border: 2px solid #cbd5e1; border-radius: 12px; outline: none; text-align: center; letter-spacing: 4px; transition: border 0.3s; background: #f8fafc; }
    .pw-input:focus { border-color: var(--primary); background: white; }
    .pw-desc { font-size: 0.85rem; color: #94a3b8; margin-top: 10px; }

    /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ í†µì¼ */
    .button-group { display: flex; gap: 12px; margin-top: 24px; }
    .start-btn { width: 100%; padding: 18px; background: linear-gradient(135deg, var(--primary), var(--accent)); color: white; border: none; border-radius: 16px; font-size: 1.1rem; cursor: pointer; font-weight: 700; box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3); transition: transform 0.2s; }
    .start-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4); }
    
    /* ê³µìœ  ë²„íŠ¼ ìŠ¤íƒ€ì¼ (í°ìƒ‰ ë°°ê²½) - start-btn í´ë˜ìŠ¤ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ í¬ê¸° í†µì¼ */
    .share-btn { background: white; color: var(--primary); border: 2px solid var(--primary); box-shadow: none; }
    .share-btn:hover { background: #eef2ff; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(99, 102, 241, 0.1); }
    
    /* í”Œë ‰ìŠ¤ ì•„ì´í…œ ë¹„ìœ¨ ì„¤ì • */
    .button-group .start-btn { flex: 1; } 

    @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    @keyframes popIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
  </style>
</head>
<body>

<div class="container">
  <div id="intro">
    <h1>ğŸš€ ëŒ€í•™ìƒ íˆ¬ì ì„±í–¥ ë¦¬í¬íŠ¸</h1>
    <p class="subtitle">
      10ê°€ì§€ ì§ˆë¬¸ì„ í†µí•´ ë‹¹ì‹ ì—ê²Œ ë”± ë§ëŠ”<br>
      ì—ë“€í…Œí¬ íˆ¬ì í•™ìŠµë²•ì„ ì•Œì•„ë³´ì„¸ìš”.
    </p>

    <div class="password-section">
      <input type="password" id="passwordInput" class="pw-input" placeholder="â€¢â€¢â€¢â€¢" maxlength="4">
      <p class="pw-desc">ğŸ”’ ê°•ì˜ìê°€ ê³µì§€í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì‹œì˜¤.</p>
    </div>

    <button class="start-btn" onclick="checkPasswordAndStart()">ì§„ë‹¨ ì‹œì‘í•˜ê¸°</button>
  </div>

  <div id="quiz" style="display:none;">
    <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>
    <div id="questionContainer"></div>
  </div>

  <div id="loadingScreen">
    <div class="spinner"></div>
    <p class="loading-text" id="loadingText">ë°ì´í„° ë¶„ì„ ì¤‘...</p>
  </div>

  <div id="resultBox">
    <span class="badge">MY INVESTMENT TYPE</span>
    <h1 class="result-name" id="resultType"></h1>
    
    <div class="chart-container">
      <canvas id="resultChart"></canvas>
    </div>

    <div class="result-card">
      <div class="card-item">
        <span class="card-label">ğŸ ì¶”ì²œ ìƒí’ˆ</span>
        <div class="card-value highlight" id="resultProduct"></div>
      </div>
      <div class="card-item" style="margin-bottom:0;">
        <span class="card-label">ğŸ’¡ íˆ¬ì ì¡°ì–¸</span>
        <div class="card-value" id="resultAdvice"></div>
      </div>
    </div>

    <div class="button-group">
      <button class="start-btn share-btn" onclick="copyResult()">ê²°ê³¼ ê³µìœ </button>
      <button class="start-btn" onclick="location.reload()">ë‹¤ì‹œ í•˜ê¸°</button>
    </div>
  </div>
</div>

<script>
  // ğŸ”‘ ë¹„ë°€ë²ˆí˜¸ ì„¤ì •
  const CORRECT_PASSWORD = "1234"; 

  // ì§ˆë¬¸ ë°ì´í„°
  const questions = [
    { t: "ë‚˜ëŠ” í‰ì†Œ ìµìˆ™í•˜ê³  ì•ˆì „í•œ ê¸¸ë³´ë‹¤ëŠ” ìƒˆë¡œìš´ ë„ì „ì„ í†µí•´ ì–»ëŠ” ì„±ê³¼ë¥¼ ì¤‘ìš”í•˜ê²Œ ìƒê°í•œë‹¤.", cat: "risk" },
    { t: "ì¤‘ìš”í•œ ì‹œí—˜ì´ë‚˜ ë°œí‘œë¥¼ ë§ì³¤ì„ ë•Œ, ì‰½ê²Œ ì¢Œì ˆí•˜ì§€ ì•Šê³  ë‹¤ìŒ ê¸°íšŒë¥¼ ì¤€ë¹„í•˜ëŠ” í¸ì´ë‹¤.", cat: "risk" },
    { t: "ì–´ë–¤ ì¼ì„ ì‹œì‘í•  ë•Œ, ì¥ê¸°ê°„ì— ê±¸ì³ ê¾¸ì¤€íˆ ë…¸ë ¥í•˜ëŠ” ê²ƒë³´ë‹¤ ë¹ ë¥¸ ì‹œê°„ ë‚´ì— ì„±ê³¼ë¥¼ ë‚´ëŠ” ê²ƒì„ ì„ í˜¸í•œë‹¤.", cat: "risk" },
    { t: "ì‹ë‹¹ì´ë‚˜ ë©”ë‰´ë¥¼ ì„ íƒí•  ë•Œ, ì´ë¯¸ ê²€ì¦ëœ ê³³ë³´ë‹¤ëŠ” ìƒˆë¡œìš´ ë§›ì§‘ì„ ì°¾ì•„ë‹¤ë‹ˆëŠ” ê²ƒì„ ì¦ê¸´ë‹¤.", cat: "exp" },
    { t: "ë‚˜ëŠ” ê³„íšì„ ì„¸ìš°ê¸° ë³´ë‹¨ ì¦‰í¥ì ìœ¼ë¡œ ì›€ì§ì´ëŠ” ê²ƒì„ ì¦ê¸´ë‹¤.", cat: "exp" },
    { t: "ì—¬ê°€ ì‹œê°„ì— ì£¼ë¡œ ìƒˆë¡œìš´ ì§€ì‹ì„ ë°°ìš°ê±°ë‚˜ ë³µì¡í•œ ì •ë³´ë¥¼ ë¶„ì„í•˜ëŠ” í™œë™ì— í¥ë¯¸ë¥¼ ëŠë‚€ë‹¤.", cat: "study" },
    { t: "í•œ ë¶„ì•¼ì˜ ì „ë¬¸ê°€ê°€ ë˜ëŠ” ê²ƒë³´ë‹¤, ì—¬ëŸ¬ ë¶„ì•¼ì— ê±¸ì³ í­ë„“ê²Œ ê²½í—˜í•˜ëŠ” ê²ƒì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•œë‹¤.", cat: "exp" },
    { t: "í¸ë¦¬í•˜ì§€ë§Œ ì´ë“ì´ ì ì€ ê²ƒê³¼ ë¶ˆí¸í•˜ì§€ë§Œ ì´ë“ì´ ë§ì€ ê²ƒì´ ìˆë‹¤ë©´ ì´ë“ì„ ìš°ì„ ì‹œ í•œë‹¤.", cat: "study" },
    { t: "ê°ì •ì ì¸ ì¶©ê²©ì„ ë°›ì•˜ì„ ë•Œ, ê°ì •ì— íœ©ì“¸ë¦¬ê¸°ë³´ë‹¤ ì´ì„±ì ìœ¼ë¡œ ìƒí™©ì„ íŒë‹¨í•˜ë ¤ê³  ë…¸ë ¥í•œë‹¤.", cat: "study" },
    { t: "ë‚˜ëŠ” ëª¨ë¥´ëŠ” ë¶„ì•¼ì— ëŒ€í•´ ìŠ¤ìŠ¤ë¡œ ê³µë¶€í•˜ê³  ì •ë³´ë¥¼ ì°¾ì•„ë‚´ëŠ” ê²ƒì— ì‹œê°„ì„ ì“°ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤.", cat: "study" }
  ];

  let currentStep = 0;
  let scores = { risk: 0, study: 0, exp: 0 }; 
  let totalScore = 0;

  function checkPasswordAndStart() {
    const input = document.getElementById("passwordInput").value;
    if (input === CORRECT_PASSWORD) {
      startSurvey();
    } else {
      alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë¦½ë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•˜ì‹­ì‹œì˜¤.");
      document.getElementById("passwordInput").value = "";
      document.getElementById("passwordInput").focus();
    }
  }

  function startSurvey() {
    document.getElementById('intro').style.display = 'none';
    document.getElementById('quiz').style.display = 'block';
    renderQuestion();
  }

  function renderQuestion() {
    const container = document.getElementById('questionContainer');
    container.innerHTML = '';
    const q = questions[currentStep];
    const percent = ((currentStep) / questions.length) * 100;
    document.getElementById('progressBar').style.width = percent + '%';

    let optionsHTML = '';
    const labels = ["ë§¤ìš° ê·¸ë ‡ì§€ ì•Šë‹¤ (1ì )", "ê·¸ë ‡ì§€ ì•Šë‹¤ (2ì )", "ë³´í†µì´ë‹¤ (3ì )", "ê·¸ë ‡ë‹¤ (4ì )", "ë§¤ìš° ê·¸ë ‡ë‹¤ (5ì )"];
    
    labels.forEach((label, index) => {
        const score = index + 1;
        optionsHTML += `<button class="option-btn" onclick="next(${score}, '${q.cat}')">${label}</button>`;
    });

    const qHTML = `
      <div class="question-box active">
        <h2>Q${currentStep + 1}.<br>${q.t}</h2>
        <div class="options">
          ${optionsHTML}
        </div>
      </div>
    `;
    container.innerHTML = qHTML;
  }

  function next(score, category) {
    totalScore += score;
    scores[category] += score;
    currentStep++;
    
    if (currentStep < questions.length) {
      renderQuestion();
    } else {
      showLoading();
    }
  }

  function showLoading() {
    document.getElementById('quiz').style.display = 'none';
    const loading = document.getElementById('loadingScreen');
    const text = document.getElementById('loadingText');
    loading.style.display = 'block';

    setTimeout(() => text.innerText = "ğŸ’° íˆ¬ì ì„±í–¥ ë¶„ì„ ì¤‘...", 800);
    setTimeout(() => text.innerText = "ğŸ“Š ë°ì´í„° ì‹œê°í™” ì¤‘...", 1800);
    setTimeout(() => {
      loading.style.display = 'none';
      showResult();
    }, 2500);
  }

  function showResult() {
    document.getElementById('resultBox').style.display = 'block';

    let type="", product="", advice="";
    if (totalScore <= 20) {
      type="ì•ˆì •í˜• (Stability Focus)";
      product="ì˜ˆê¸ˆ";
      advice="ì•ˆì • ìµœìš°ì„ : ì›ê¸ˆ ë³´ì¥ê³¼ í™•ì • ê¸ˆë¦¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìì‚°ì„ ëª¨ìœ¼ì„¸ìš”.";
    } else if (totalScore <= 30) {
      type="ì•ˆì • ì¶”êµ¬í˜• (Goal-Oriented)";
      product="ì ê¸ˆ";
      advice="ê³„íšì  ì„±ì¥: ê¾¸ì¤€í•œ ì €ì¶•ì„ í†µí•´ ì¬ì • ëª©í‘œë¥¼ ë‹¬ì„±í•˜ì„¸ìš”.";
    } else if (totalScore <= 40) {
      type="ìœ„í—˜ ì¤‘ë¦½í˜• (Market Follower)";
      product="ETF";
      advice="ê· í˜• íˆ¬ì: ë¶„ì‚°ì„ í†µí•´ ì•ˆì •ì„±ê³¼ ì‹œì¥ í‰ê·  ìˆ˜ìµì„ ì¶”êµ¬í•˜ì„¸ìš”.";
    } else {
      type="ê³µê²©í˜• (Aggressive Growth)";
      product="ì£¼ì‹";
      advice="ë¶„ì„ ê¸°ë°˜ì˜ ê³µê²©ì  íˆ¬ìë¡œ ìì‚° ì¦ì‹ì„ ì‹œë„í•˜ì„¸ìš”.";
    }

    document.getElementById("resultType").textContent = type;
    document.getElementById("resultProduct").textContent = product;
    document.getElementById("resultAdvice").textContent = advice;

    // ì°¨íŠ¸ ìƒì„± (ì´ˆê¸° ë²„ì „ ìŠ¤íƒ€ì¼ ë³µêµ¬: ì„ ëª…í•œ ê·¸ë¦¬ë“œ ë¼ì¸)
    const ctx = document.getElementById('resultChart').getContext('2d');
    new Chart(ctx, {
      type: 'radar',
      data: {
        labels: ['ìœ„í—˜ ê°ìˆ˜(Risk)', 'í•™ìŠµ ì„±í–¥(Study)', 'ê²½í—˜ ì¤‘ì‹œ(Exp)'],
        datasets: [{
          label: 'ë‚˜ì˜ ì„±í–¥',
          data: [scores.risk, scores.study, scores.exp],
          // ë‚´ë¶€ ì±„ìš°ê¸° (ë³´ë¼ìƒ‰)
          backgroundColor: 'rgba(99, 102, 241, 0.4)', 
          borderColor: '#6366f1',
          pointBackgroundColor: '#8b5cf6',
          pointBorderColor: '#fff',
          pointHoverBackgroundColor: '#fff',
          pointHoverBorderColor: '#8b5cf6',
          borderWidth: 2
        }]
      },
      options: {
        scales: {
          r: {
            // ì´ˆê¸° ë²„ì „ì²˜ëŸ¼ ê·¸ë¦¬ë“œ(ì™¸ë¶€ ì‚¼ê°í˜• ëª¨ì–‘)ë¥¼ ì„ ëª…í•˜ê²Œ í‘œì‹œ
            angleLines: { display: true, color: '#e5e7eb' },
            grid: { display: true, color: '#e5e7eb' },
            pointLabels: { font: { size: 12, weight: 'bold', family: 'Pretendard' }, color: '#475569' },
            beginAtZero: true,
            max: 20, 
            ticks: { display: false } // ìˆ«ìëŠ” ì§€ì €ë¶„í•´ ë³´ì¼ ìˆ˜ ìˆì–´ ìˆ¨ê¹€ (í•„ìš”ì‹œ trueë¡œ ë³€ê²½)
          }
        },
        plugins: { legend: { display: false } }
      }
    });
  }

  function copyResult() {
    const type = document.getElementById('resultType').innerText;
    const dummy = document.createElement("textarea");
    document.body.appendChild(dummy);
    dummy.value = `[ëŒ€í•™ìƒ íˆ¬ì ì„±í–¥ ë¦¬í¬íŠ¸]\në‚˜ì˜ ìœ í˜•ì€: ${type}\n\nê°™ì´ í…ŒìŠ¤íŠ¸ í•´ë³¼ë˜?`;
    dummy.select();
    document.execCommand("copy");
    document.body.removeChild(dummy);
    alert("ê²°ê³¼ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!");
  }
</script>

</body>
</html>
