<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ëŒ€í•™ìƒ íˆ¬ì ì„±í–¥ ë¦¬í¬íŠ¸</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root { --primary: #6366f1; --accent: #8b5cf6; --bg: #f8fafc; }
    body { font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif; background: linear-gradient(135deg, #e0e7ff 0%, #f3e8ff 100%); margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; color: #333; }
    
    .container { width: 90%; max-width: 420px; background: rgba(255, 255, 255, 0.95); padding: 32px; border-radius: 24px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); backdrop-filter: blur(10px); position: relative; overflow: hidden; }
    
    /* íƒ€ì´í‹€ */
    h1 { font-size: 1.8rem; text-align: center; background: linear-gradient(to right, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 10px; font-weight: 800; }
    .subtitle { text-align: center; color: #64748b; font-size: 0.95rem; margin-bottom: 30px; line-height: 1.5; }

    /* ì§„í–‰ë°” */
    .progress-container { width: 100%; background: #e2e8f0; height: 8px; border-radius: 4px; margin-bottom: 24px; overflow: hidden; }
    .progress-bar { height: 100%; background: linear-gradient(90deg, var(--primary), var(--accent)); width: 0%; transition: width 0.4s ease; border-radius: 4px; }

    /* ì§ˆë¬¸ ì¹´ë“œ */
    .question-box { display: none; animation: slideUp 0.4s ease-out; }
    .question-box.active { display: block; }
    h2 { font-size: 1.35rem; color: #1e293b; margin-bottom: 24px; line-height: 1.4; font-weight: 700; }
    
    /* ì„ íƒ ë²„íŠ¼ */
    .options { display: flex; flex-direction: column; gap: 12px; }
    .option-btn {
      padding: 16px; border: 2px solid #e2e8f0; border-radius: 16px; background: white;
      font-size: 1rem; cursor: pointer; transition: all 0.2s; text-align: left; color: #475569; font-weight: 500;
      position: relative; overflow: hidden;
    }
    .option-btn:hover { border-color: var(--primary); background: #eef2ff; color: var(--primary); transform: translateY(-2px); box-shadow: 0 4px 12px rgba(99, 102, 241, 0.1); }
    .option-btn:active { transform: scale(0.98); }

    /* ë¡œë”© í™”ë©´ */
    #loadingScreen { display: none; text-align: center; padding: 40px 0; }
    .spinner { width: 50px; height: 50px; border: 5px solid #e2e8f0; border-top: 5px solid var(--primary); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 20px; }
    .loading-text { font-size: 1.1rem; color: #64748b; font-weight: 600; }

    /* ê²°ê³¼ í™”ë©´ */
    #resultBox { display: none; text-align: center; animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    .badge { display: inline-block; padding: 8px 16px; background: #eef2ff; color: var(--primary); border-radius: 30px; font-weight: 700; font-size: 0.9rem; margin-bottom: 12px; border: 1px solid #c7d2fe; }
    .result-name { font-size: 2rem; margin: 0 0 20px 0; color: #1e293b; font-weight: 800; line-height: 1.2; word-break: keep-all; }
    
    .chart-container { position: relative; height: 250px; width: 100%; margin: 20px auto; }
    
    /* ë¯¸ì…˜ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
    .mission-card { background: #f8fafc; border: 1px solid #e2e8f0; padding: 20px; border-radius: 16px; text-align: left; margin-top: 24px; box-shadow: inset 0 2px 4px rgba(0,0,0,0.02); }
    .mission-title { font-size: 1.1rem; font-weight: 700; color: #334155; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
    .mission-content { font-size: 0.95rem; color: #475569; line-height: 1.6; }
    .highlight { color: var(--primary); font-weight: 700; background: rgba(99, 102, 241, 0.1); padding: 2px 6px; border-radius: 4px; }

    /* ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ */
    .password-section { margin: 30px 0; text-align: center; }
    .pw-input { width: 70%; padding: 14px; font-size: 18px; border: 2px solid #cbd5e1; border-radius: 12px; outline: none; text-align: center; letter-spacing: 4px; transition: border 0.3s; background: #f8fafc; }
    .pw-input:focus { border-color: var(--primary); background: white; }
    .pw-desc { font-size: 0.85rem; color: #94a3b8; margin-top: 10px; }

    .start-btn { width: 100%; padding: 18px; background: linear-gradient(135deg, var(--primary), var(--accent)); color: white; border: none; border-radius: 16px; font-size: 1.1rem; cursor: pointer; font-weight: 700; box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3); transition: transform 0.2s; }
    .start-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4); }

    /* ê³µìœ  ë²„íŠ¼ */
    .share-btn { margin-top: 15px; background: white; color: var(--primary); border: 2px solid var(--primary); }
    .share-btn:hover { background: #eef2ff; transform: translateY(-2px); }

    @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    @keyframes popIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
  </style>
</head>
<body>

<div class="container">
  <div id="intro">
    <h1>ğŸš€ ëŒ€í•™ìƒ íˆ¬ì ì„±í–¥ ë¦¬í¬íŠ¸</h1>
    <p class="subtitle">
      ë‚˜ëŠ” ì›Œë Œ ë²„í•ì¼ê¹Œ, ì•„ë‹ˆë©´ ì˜ˆê¸ˆ ì§€í‚´ì´ì¼ê¹Œ?<br>
      ì—ë“€í…Œí¬ AIê°€ ë‹¹ì‹ ì˜ íˆ¬ì DNAë¥¼ ë¶„ì„í•©ë‹ˆë‹¤.
    </p>

    <div class="password-section">
      <input type="password" id="passwordInput" class="pw-input" placeholder="â€¢â€¢â€¢â€¢" maxlength="4">
      <p class="pw-desc">ğŸ”’ ê°•ì˜ìê°€ ê³µì§€í•œ ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.</p>
    </div>

    <button class="start-btn" onclick="checkPasswordAndStart()">ë¶„ì„ ì‹œì‘í•˜ê¸°</button>
  </div>

  <div id="quiz" style="display:none;">
    <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>
    <div id="questionContainer"></div>
  </div>

  <div id="loadingScreen">
    <div class="spinner"></div>
    <p class="loading-text" id="loadingText">ë°ì´í„° ë¶„ì„ ì¤‘...</p>
  </div>

  <div id="resultBox">
    <span class="badge">MY INVESTMENT TYPE</span>
    <h1 class="result-name" id="resultName"></h1>
    <p id="resultDesc" style="color:#64748b; margin-bottom:10px; font-weight:500;"></p>
    
    <div class="chart-container">
      <canvas id="resultChart"></canvas>
    </div>

    <div class="mission-card">
      <div class="mission-title">ğŸ“ ì´ë²ˆ ì£¼ ëŒ€í•™ìƒ ê¸ˆìœµ ë¯¸ì…˜</div>
      <div class="mission-content" id="missionContent"></div>
    </div>

    <div style="display:flex; gap:10px; margin-top:20px;">
      <button class="start-btn share-btn" onclick="copyResult()">ê²°ê³¼ ê³µìœ í•˜ê¸°</button>
      <button class="start-btn" onclick="location.reload()">ë‹¤ì‹œ í•˜ê¸°</button>
    </div>
  </div>
</div>

<script>
  const CORRECT_PASSWORD = "1234"; 

  // ëŒ€í•™ìƒ ë§ì¶¤í˜• ì§ˆë¬¸ (ì´ì „ ì§ˆë¬¸ ìœ ì§€í•˜ë˜ ì–´ì¡° ìˆ˜ì •)
  const questions = [
    { t: "ì•Œë°”ë¹„ 50ë§Œì›ì´ ìƒê²¼ë‹¤. ë‚˜ëŠ”?", a: ["ë¬´ì¡°ê±´ ì•ˆì „í•œ ì˜ˆê¸ˆ í†µì¥ì— ë„£ëŠ”ë‹¤.", "ì¼ë¶€ëŠ” ì½”ì¸ì´ë‚˜ ì£¼ì‹ì— ë„ì „í•´ë³¸ë‹¤."], cat: "risk" },
    { t: "ì£¼ì‹ ì•±ì„ ì¼°ëŠ”ë° -10% íŒŒë€ë¶ˆì´ë‹¤. ë‚˜ì˜ ë°˜ì‘ì€?", a: ["ê°€ìŠ´ì´ ì² ë í•˜ê³  í•˜ë£¨ì¢…ì¼ ìš°ìš¸í•˜ë‹¤.", "ì˜¤íˆë ¤ ì¢‹ì•„! ì €ì  ë§¤ìˆ˜ì˜ ê¸°íšŒë‹¤."], cat: "risk" },
    { t: "ì¹œêµ¬ë“¤ì´ 'ì´ê±° ëœ¬ëŒ€!' í•˜ë©° ë°ˆì½”ì¸ì„ ì¶”ì²œí•œë‹¤.", a: ["ìœ„í—˜í•´ ë³´ì—¬ì„œ ì ˆëŒ€ ì³ë‹¤ë³´ì§€ ì•ŠëŠ”ë‹¤.", "ì†Œì•¡ìœ¼ë¡œ ì¬ë¯¸ ì‚¼ì•„ ê°™ì´ íƒ‘ìŠ¹í•œë‹¤."], cat: "risk" },
    { t: "ë§›ì§‘ì„ ê³ ë¥¼ ë•Œ ë‚˜ëŠ”?", a: ["ë¦¬ë·° 1000ê°œ ì´ìƒ ê²€ì¦ëœ ê³³ë§Œ ê°„ë‹¤.", "ìƒˆë¡œ ìƒê¸´ í™í•œ ê³³ì„ ë‚´ê°€ ë¨¼ì € ê°€ë³¸ë‹¤."], cat: "exp" },
    { t: "ì—¬í–‰ ê³„íšì„ ì§¤ ë•Œ ë‚˜ëŠ”?", a: ["ë¶„ ë‹¨ìœ„ë¡œ ì—‘ì…€ì— ì •ë¦¬í•œë‹¤.", "ë¹„í–‰ê¸° í‘œë§Œ ëŠê³  ê°€ì„œ ìƒê°í•œë‹¤."], cat: "exp" },
    { t: "í‰ì†Œ ìœ íŠœë¸Œ ì•Œê³ ë¦¬ì¦˜ì— ëœ¨ëŠ” ì˜ìƒì€?", a: ["ì¬ë¯¸ìˆëŠ” ì˜ˆëŠ¥ì´ë‚˜ ì‡¼ì¸ ", "ê²½ì œ ë‰´ìŠ¤ë‚˜ ì¬í…Œí¬, ì§€ì‹ ì±„ë„"], cat: "study" },
    { t: "ì „ê³µ ìˆ˜ì—… ì™¸ì— ë‹¤ë¥¸ ë¶„ì•¼ ê³µë¶€ëŠ”?", a: ["ì „ê³µ í•˜ë‚˜ í•˜ê¸°ë„ ë²…ì°¨ë‹¤.", "ê´€ì‹¬ ìƒê¸°ë©´ ì´ê²ƒì €ê²ƒ ì°¾ì•„ì„œ ë°°ìš´ë‹¤."], cat: "exp" },
    { t: "ë§Œì› ë” ì‹¼ë° 30ë¶„ ë” ê±¸ë¦¬ëŠ” ë²„ìŠ¤ vs ê·¸ëƒ¥ íƒì‹œ", a: ["ëª¸ì´ í˜ë“¤ì–´ë„ ëˆ ì•„ë¼ëŠ” ê²Œ ìµœê³ ë‹¤.", "ë‚´ ì‹œê°„ê³¼ ì²´ë ¥ì€ ëˆë³´ë‹¤ ì†Œì¤‘í•˜ë‹¤."], cat: "study" },
    { t: "ì¡°ë³„ê³¼ì œ ì¤‘ ë¹ŒëŸ°ì„ ë§Œë‚¬ë‹¤. ë‚˜ëŠ”?", a: ["í™”ë‚˜ì§€ë§Œ ê¾¹ ì°¸ê³  ë‚´ê°€ ë‹¤ í•œë‹¤.", "ê°ì • ë°°ì œí•˜ê³  íŒ©íŠ¸ë¡œ ì¡°ëª©ì¡°ëª© ë”°ì§„ë‹¤."], cat: "study" },
    { t: "ëª¨ë¥´ëŠ” ê²½ì œ ìš©ì–´ê°€ ë‚˜ì™”ì„ ë•Œ", a: ["ê·¸ëƒ¥ ê·¸ëŸ°ê°€ë³´ë‹¤ í•˜ê³  ë„˜ê¸´ë‹¤.", "ë‹¹ì¥ ê²€ìƒ‰í•´ì„œ ë¬´ìŠ¨ ëœ»ì¸ì§€ ì•Œì•„ë‚¸ë‹¤."], cat: "study" }
  ];

  let currentStep = 0;
  let scores = { risk: 0, study: 0, exp: 0 }; 
  let totalScore = 0;

  function checkPasswordAndStart() {
    const input = document.getElementById("passwordInput").value;
    if (input === CORRECT_PASSWORD) {
      startSurvey();
    } else {
      alert("âš ï¸ ì½”ë“œê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.");
      document.getElementById("passwordInput").value = "";
      document.getElementById("passwordInput").focus();
    }
  }

  function startSurvey() {
    document.getElementById('intro').style.display = 'none';
    document.getElementById('quiz').style.display = 'block';
    renderQuestion();
  }

  function renderQuestion() {
    const container = document.getElementById('questionContainer');
    container.innerHTML = '';
    const q = questions[currentStep];
    const percent = ((currentStep) / questions.length) * 100;
    document.getElementById('progressBar').style.width = percent + '%';

    // 2ì§€ ì„ ë‹¤í˜•ìœ¼ë¡œ ê°„ì†Œí™”í•˜ì—¬ ì†ë„ê° ë†’ì„ (ì ìˆ˜ ë°°ë¶„: 1ë²ˆ=1ì , 2ë²ˆ=5ì  ë‹¨ìˆœí™”)
    const qHTML = `
      <div class="question-box active">
        <h2>Q${currentStep + 1}. ${q.t}</h2>
        <div class="options">
          <button class="option-btn" onclick="next(1, '${q.cat}')">ğŸ…°ï¸ ${q.a[0]}</button>
          <button class="option-btn" onclick="next(5, '${q.cat}')">ğŸ…±ï¸ ${q.a[1]}</button>
        </div>
      </div>
    `;
    container.innerHTML = qHTML;
  }

  function next(score, category) {
    totalScore += score;
    scores[category] += score;
    currentStep++;
    
    if (currentStep < questions.length) {
      renderQuestion();
    } else {
      showLoading(); // ë¡œë”© í™”ë©´ í˜¸ì¶œ
    }
  }

  function showLoading() {
    document.getElementById('quiz').style.display = 'none';
    const loading = document.getElementById('loadingScreen');
    const text = document.getElementById('loadingText');
    loading.style.display = 'block';

    // ë¡œë”© ë©˜íŠ¸ ë³€ê²½ (ì¬ë¯¸ ìš”ì†Œ)
    setTimeout(() => text.innerText = "ğŸ’° íˆ¬ì ì„±í–¥ ë¶„ì„ ì¤‘...", 800);
    setTimeout(() => text.innerText = "ğŸ§  ë‡Œ êµ¬ì¡° ìŠ¤ìº” ì™„ë£Œ!", 1800);
    setTimeout(() => {
      loading.style.display = 'none';
      showResult();
    }, 2500);
  }

  function showResult() {
    document.getElementById('resultBox').style.display = 'block';

    let name, desc, mission;
    
    // ìºë¦­í„° & ë¯¸ì…˜ ì„¤ì • (ëŒ€í•™ìƒ íƒ€ê²ŸíŒ…)
    if (totalScore <= 20) {
        name = "ğŸ¿ï¸ ì†Œí™•í–‰ ì €ì¶• ë‹¤ëŒì¥";
        desc = "\"ì›ê¸ˆ ì ˆëŒ€ ì§€ì¼œ!\" ì•ˆì „ì´ ì œì¼ ì¤‘ìš”í•´ìš”.";
        mission = `
          <p><strong>ì¶”ì²œ ìƒí’ˆ:</strong> íŒŒí‚¹í†µì¥, ì²­ë…„ë„ì•½ê³„ì¢Œ</p>
          <p style='margin-top:8px;'><strong>ğŸ¯ Action Item:</strong><br>
          ë³€ë™ì„±ì´ ë¬´ì„œìš´ ë‹¹ì‹ ! í•˜ì§€ë§Œ ë¬¼ê°€ìƒìŠ¹ë¥ ì€ ì´ê²¨ì•¼ í•´ìš”.<br>
          <span class='highlight'>CMA í†µì¥ ê°œì„¤</span>í•´ì„œ í•˜ë£¨ë§Œ ë„£ì–´ë„ ì´ì ë°›ì•„ë³´ê¸° ë¯¸ì…˜ì„ ìˆ˜í–‰í•´ë³´ì„¸ìš”!</p>`;
    } else if (totalScore <= 30) {
        name = "ğŸ—ï¸ ì°¨ê³¡ì°¨ê³¡ ë¹Œë“œì—… ì¥ì¸";
        desc = "\"í‹°ëŒ ëª¨ì•„ íƒœì‚°!\" ê³„íšì ì¸ íˆ¬ìë¥¼ ì„ í˜¸í•´ìš”.";
        mission = `
          <p><strong>ì¶”ì²œ ìƒí’ˆ:</strong> ì ë¦½ì‹ í€ë“œ, ì±„ê¶Œ</p>
          <p style='margin-top:8px;'><strong>ğŸ¯ Action Item:</strong><br>
          ì„±ì‹¤í•¨ì´ ë¬´ê¸°ì¸ ë‹¹ì‹ ! ì´ì œëŠ” 'ìì‚° ë°°ë¶„'ì„ ë°°ìš¸ ë•Œì…ë‹ˆë‹¤.<br>
          ìœ íŠœë¸Œì— <span class='highlight'>'ì˜¬ì›¨ë” í¬íŠ¸í´ë¦¬ì˜¤'</span>ë¥¼ ê²€ìƒ‰í•´ì„œ ì˜ìƒ 1ê°œ ì‹œì²­í•˜ê¸°ê°€ ì´ë²ˆ ì£¼ ìˆ™ì œì…ë‹ˆë‹¤.</p>`;
    } else if (totalScore <= 40) {
        name = "ğŸ„ íŒŒë„ë¥¼ íƒ€ëŠ” íŠ¸ë Œë“œ ì„¸í„°";
        desc = "\"ìš”ì¦˜ ì´ê²Œ ëœ¬ëŒ€!\" ì‹œì¥ì˜ íë¦„ì„ ì˜ ì½ì–´ìš”.";
        mission = `
          <p><strong>ì¶”ì²œ ìƒí’ˆ:</strong> ETF, ë¯¸êµ­ ìš°ëŸ‰ì£¼</p>
          <p style='margin-top:8px;'><strong>ğŸ¯ Action Item:</strong><br>
          ê°ê°ì´ ì¢‹ì€ ë‹¹ì‹ ! í•˜ì§€ë§Œ 'ê°'ì—ë§Œ ì˜ì¡´í•˜ë©´ ìœ„í—˜í•´ìš”.<br>
          <span class='highlight'>'S&P 500 ETF'</span>ê°€ ë¬´ì—‡ì¸ì§€ ì°¾ì•„ë³´ê³  ëª¨ì˜íˆ¬ìë¡œ 1ì£¼ ë§¤ìˆ˜í•´ë³´ì„¸ìš”.</p>`;
    } else {
        name = "ğŸ¦ ì•¼ìˆ˜ì˜ ì‹¬ì¥ ë¡œì¼“ë§¨";
        desc = "\"ì¸ìƒì€ í•œë°©!\" ë†’ì€ ìˆ˜ìµì„ ìœ„í•´ ìœ„í—˜ë„ ê°ìˆ˜í•´ìš”.";
        mission = `
          <p><strong>ì¶”ì²œ ìƒí’ˆ:</strong> ì„±ì¥ì£¼, ì•”í˜¸í™”í</p>
          <p style='margin-top:8px;'><strong>ğŸ¯ Action Item:</strong><br>
          ìš©ê¸° ìˆëŠ” ë‹¹ì‹ ! í•˜ì§€ë§Œ ë¸Œë ˆì´í¬ ì—†ëŠ” ìŠ¤í¬ì¸ ì¹´ëŠ” ìœ„í—˜í•˜ì£ .<br>
          <span class='highlight'>'ì†ì ˆë§¤(Stop-loss)'</span> ê¸°ì¤€ì„ ì •í•˜ëŠ” ë²•ì„ ê³µë¶€í•´ì„œ ë‚˜ë§Œì˜ ì›ì¹™ì„ ì„¸ì›Œë³´ì„¸ìš”.</p>`;
    }

    document.getElementById('resultName').innerText = name;
    document.getElementById('resultDesc').innerText = desc;
    document.getElementById('missionContent').innerHTML = mission;

    // ì°¨íŠ¸ ìƒì„±
    const ctx = document.getElementById('resultChart').getContext('2d');
    new Chart(ctx, {
      type: 'radar',
      data: {
        labels: ['ìœ„í—˜ ê°ìˆ˜ë ¥', 'ê¸ˆìœµ ì§€ì‹ìš•', 'ê²½í—˜ ê°œë°©ì„±'],
        datasets: [{
          label: 'ë‚˜ì˜ ëŠ¥ë ¥ì¹˜',
          data: [scores.risk, scores.study, scores.exp],
          backgroundColor: 'rgba(99, 102, 241, 0.2)',
          borderColor: '#6366f1',
          pointBackgroundColor: '#8b5cf6',
          pointBorderColor: '#fff',
          pointHoverBackgroundColor: '#fff',
          pointHoverBorderColor: '#8b5cf6'
        }]
      },
      options: {
        scales: {
          r: {
            angleLines: { color: 'rgba(0,0,0,0.1)' },
            grid: { color: 'rgba(0,0,0,0.05)' },
            pointLabels: { font: { size: 12, weight: 'bold', family: 'Pretendard' }, color: '#475569' },
            ticks: { display: false, max: 20 }
          }
        },
        plugins: { legend: { display: false } }
      }
    });
  }

  function copyResult() {
    const name = document.getElementById('resultName').innerText;
    const dummy = document.createElement("textarea");
    document.body.appendChild(dummy);
    dummy.value = `[ëŒ€í•™ìƒ íˆ¬ì ì„±í–¥ ë¦¬í¬íŠ¸]\në‚˜ì˜ ìœ í˜•ì€: ${name}\n\nê°™ì´ í…ŒìŠ¤íŠ¸ í•´ë³¼ë˜?`;
    dummy.select();
    document.execCommand("copy");
    document.body.removeChild(dummy);
    alert("ê²°ê³¼ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ë‹¨í†¡ë°©ì— ê³µìœ í•´ë³´ì„¸ìš” ğŸ˜†");
  }
</script>

</body>
</html>
