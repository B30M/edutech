<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
  <title>ëŒ€í•™ìƒ íˆ¬ì ì„±í–¥ ë¦¬í¬íŠ¸</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root { --primary: #6366f1; --accent: #8b5cf6; --bg: #f8fafc; }
    body { font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif; background: linear-gradient(135deg, #e0e7ff 0%, #f3e8ff 100%); margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; color: #333; }
    
    /* ê¸°ë³¸ ì„¤ì •: íƒ­ í•˜ì´ë¼ì´íŠ¸ ì œê±° ë° ì„ íƒ ë°©ì§€ */
    * { -webkit-tap-highlight-color: transparent; user-select: none; -webkit-user-select: none; }

    .container { 
      width: 90%; max-width: 420px; background: rgba(255, 255, 255, 0.95); 
      padding: 32px; border-radius: 24px; 
      box-shadow: 0 20px 40px rgba(0,0,0,0.1); 
      backdrop-filter: blur(10px); position: relative; overflow: hidden; 
      margin: 20px 16px; 
    }
    
    h1 { font-size: 1.7rem; text-align: center; background: linear-gradient(to right, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 10px; font-weight: 800; }
    .subtitle { text-align: center; color: #64748b; font-size: 0.95rem; margin-bottom: 30px; line-height: 1.5; }

    .progress-container { width: 100%; background: #e2e8f0; height: 8px; border-radius: 4px; margin-bottom: 24px; overflow: hidden; }
    .progress-bar { height: 100%; background: linear-gradient(90deg, var(--primary), var(--accent)); width: 0%; transition: width 0.4s ease; border-radius: 4px; }

    .question-box { display: none; animation: slideUp 0.4s ease-out; }
    .question-box.active { display: block; }
    h2 { font-size: 1.2rem; color: #1e293b; margin-bottom: 20px; line-height: 1.5; font-weight: 700; word-break: keep-all; }
    
    .options { display: flex; flex-direction: column; gap: 10px; }
    
    /* [â˜…í•µì‹¬] ë²„íŠ¼ ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
    .option-btn {
      padding: 14px; border: 2px solid #e2e8f0; border-radius: 12px; background: white;
      font-size: 0.95rem; cursor: pointer; text-align: left; color: #475569; font-weight: 500;
      position: relative; overflow: hidden;
      transition: transform 0.1s, background 0.1s; /* ë¶€ë“œëŸ¬ìš´ íš¨ê³¼ */
    }

    /* [â˜…í•µì‹¬ í•´ê²°ì±…] ë§ˆìš°ìŠ¤ê°€ ìˆëŠ” í™˜ê²½(PC)ì—ì„œë§Œ í˜¸ë²„ íš¨ê³¼ ì ìš© */
    @media (hover: hover) {
      .option-btn:hover {
        border-color: #a5b4fc; background: #f0f4ff;
      }
    }

    /* [â˜…í•µì‹¬] ëª¨ë°”ì¼/PC ê³µí†µ: ëˆŒë ¸ì„ ë•Œ(active) ë° ì„ íƒëœ ìƒíƒœ(selected) */
    .option-btn:active, .option-btn.selected {
        border-color: var(--primary) !important;
        background: #eef2ff !important;
        color: var(--primary) !important;
        font-weight: bold !important;
        transform: scale(0.98); 
        outline: none;
    }

    /* ë¡œë”© ë° ê²°ê³¼ ìŠ¤íƒ€ì¼ */
    #loadingScreen { display: none; text-align: center; padding: 40px 0; }
    .spinner { width: 50px; height: 50px; border: 5px solid #e2e8f0; border-top: 5px solid var(--primary); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 20px; }
    .loading-text { font-size: 1.1rem; color: #64748b; font-weight: 600; }

    #resultBox { display: none; text-align: center; animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    .badge { display: inline-block; padding: 8px 16px; background: #eef2ff; color: var(--primary); border-radius: 30px; font-weight: 700; font-size: 0.9rem; margin-bottom: 12px; border: 1px solid #c7d2fe; }
    .result-name { font-size: 1.8rem; margin: 0 0 5px 0; color: #1e293b; font-weight: 800; line-height: 1.3; word-break: keep-all; }
    .result-desc { font-size: 1rem; color: #64748b; margin-bottom: 20px; font-weight: 500; line-height: 1.4; text-align: center; }

    .chart-legend { display: flex; justify-content: center; align-items: center; gap: 8px; margin-bottom: 15px; font-size: 0.85rem; color: #64748b; font-weight: 600; }
    .legend-box { width: 40px; height: 14px; background-color: rgba(79, 70, 229, 0.2); border: 2px solid #4F46E5; }
    .chart-container { width: 100%; height: 320px; display: flex; justify-content: center; align-items: center; margin: 10px 0 0 0; position: relative; }
    #resultChart { max-width: 100%; max-height: 100%; }
    
    .result-card { background: #f8fafc; border: 1px solid #e2e8f0; padding: 20px; border-radius: 16px; text-align: left; margin-top: 0; box-shadow: inset 0 2px 4px rgba(0,0,0,0.02); }
    .card-item { margin-bottom: 12px; }
    .card-label { font-size: 0.9rem; color: #64748b; font-weight: 700; display: block; margin-bottom: 4px; }
    .card-value { font-size: 1rem; color: #334155; line-height: 1.5; font-weight: 500; }
    .highlight { color: var(--primary); font-weight: 700; }

    .password-section { margin: 30px 0; text-align: center; }
    .pw-input { width: 60%; padding: 14px; font-size: 18px; border: 2px solid #cbd5e1; border-radius: 12px; outline: none; text-align: center; letter-spacing: 4px; transition: border 0.3s; background: #f8fafc; }
    .pw-input:focus { border-color: var(--primary); background: white; }
    .pw-desc { font-size: 0.85rem; color: #94a3b8; margin-top: 10px; }
    .button-group { display: flex; gap: 12px; margin-top: 24px; }
    .start-btn { width: 100%; padding: 18px; background: linear-gradient(135deg, var(--primary), var(--accent)); color: white; border: none; border-radius: 16px; font-size: 1.1rem; cursor: pointer; font-weight: 700; box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3); transition: transform 0.2s; }
    .start-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4); }
    .share-btn { background: white; color: var(--primary); border: 2px solid var(--primary); box-shadow: none; }
    .share-btn:hover { background: #eef2ff; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(99, 102, 241, 0.1); }
    .button-group .start-btn { flex: 1; } 

    @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    @keyframes popIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
  </style>
</head>
<body>

<div class="container">
  <div id="intro">
    <h1>ğŸš€ ëŒ€í•™ìƒ íˆ¬ì ì„±í–¥ ë¦¬í¬íŠ¸</h1>
    <p class="subtitle">10ê°€ì§€ ì§ˆë¬¸ì„ í†µí•´ ë‹¹ì‹ ì—ê²Œ<br>ë”± ë§ëŠ” íˆ¬ì ë°©ë²•ì„ ì•Œì•„ë³´ì„¸ìš”.</p>
    <div class="password-section">
      <input type="password" id="passwordInput" class="pw-input" placeholder="â€¢â€¢â€¢â€¢" maxlength="4">
      <p class="pw-desc">ğŸ”’ ê°•ì˜ìê°€ ê³µì§€í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì‹œì˜¤.</p>
    </div>
    <button class="start-btn" onclick="checkPasswordAndStart()">ì§„ë‹¨ ì‹œì‘í•˜ê¸°</button>
  </div>

  <div id="quiz" style="display:none;">
    <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>
    <div id="questionContainer"></div>
  </div>

  <div id="loadingScreen">
    <div class="spinner"></div>
    <p class="loading-text" id="loadingText">ë°ì´í„° ë¶„ì„ ì¤‘...</p>
  </div>

  <div id="resultBox">
    <span class="badge" id="resultBadge"></span>
    <h1 class="result-name" id="resultTitle"></h1>
    <p class="result-desc" id="resultDesc"></p>
    <div class="chart-legend"><div class="legend-box"></div><span>ë‚˜ì˜ ì„±í–¥</span></div>
    <div class="chart-container"><canvas id="resultChart"></canvas></div>
    <div class="result-card">
      <div class="card-item"><span class="card-label">ğŸ ì¶”ì²œ ìƒí’ˆ</span><div class="card-value highlight" id="resultProduct"></div></div>
      <div class="card-item" style="margin-bottom:0;"><span class="card-label">ğŸ’¡ íˆ¬ì ì¡°ì–¸</span><div class="card-value" id="resultAdvice"></div></div>
    </div>
    <div class="button-group">
      <button class="start-btn share-btn" onclick="copyResult()">ê²°ê³¼ ê³µìœ </button>
      <button class="start-btn" onclick="location.reload()">ë‹¤ì‹œ í•˜ê¸°</button>
    </div>
  </div>
</div>

<script>
  // ëª¨ë°”ì¼ í™•ëŒ€ ë°©ì§€
  document.addEventListener('dblclick', function(e) { e.preventDefault(); }, { passive: false });
  
  const CORRECT_PASSWORD = "1208"; 
  const questions = [
    { t: "ìµìˆ™í•œ ê¸¸ë³´ë‹¤ ìƒˆë¡œìš´ ë„ì „ì„ í†µí•´ ì–»ëŠ” ì„±ê³¼ê°€ ë” ì¤‘ìš”í•˜ë‹¤.", cat: "risk" },
    { t: "ì‹¤íŒ¨í•´ë„ ì¢Œì ˆí•˜ì§€ ì•Šê³  ë‹¤ìŒ ê¸°íšŒë¥¼ ë¹ ë¥´ê²Œ ì¤€ë¹„í•œë‹¤.", cat: "risk" },
    { t: "ì¥ê¸°ì  ë…¸ë ¥ë³´ë‹¤ ë‹¨ê¸°ê°„ì˜ ë¹ ë¥¸ ì„±ê³¼ë¥¼ ì„ í˜¸í•œë‹¤.", cat: "risk" },
    { t: "ê²€ì¦ëœ ë§›ì§‘ë³´ë‹¤ ìƒˆë¡œìš´ ì‹ë‹¹ì„ ì°¾ì•„ë‹¤ë‹ˆëŠ” ê²ƒì„ ì¦ê¸´ë‹¤.", cat: "exp" },
    { t: "ê³„íšë³´ë‹¤ëŠ” ì¦‰í¥ì ìœ¼ë¡œ ì›€ì§ì´ëŠ” ê²ƒì„ ì¦ê¸´ë‹¤.", cat: "exp" },
    { t: "ì—¬ê°€ ì‹œê°„ì— ìƒˆë¡œìš´ ì§€ì‹ì„ ë°°ìš°ê±°ë‚˜ ë¶„ì„í•˜ëŠ” ê±¸ ì¢‹ì•„í•œë‹¤.", cat: "study" },
    { t: "í•œ ë¶„ì•¼ ì „ë¬¸ê°€ë³´ë‹¤ ë‹¤ì–‘í•œ ë¶„ì•¼ì˜ í­ë„“ì€ ê²½í—˜ì„ ì¤‘ì‹œí•œë‹¤.", cat: "exp" },
    { t: "ë¶ˆí¸í•˜ë”ë¼ë„ ì´ë“ì´ ë” ë§ì€ ìª½ì„ ë¬´ì¡°ê±´ ì„ íƒí•œë‹¤.", cat: "study" },
    { t: "ê°ì •ì  ì¶©ê²© ìƒí™©ì—ì„œë„ ì´ì„±ì ìœ¼ë¡œ íŒë‹¨í•˜ë ¤ ë…¸ë ¥í•œë‹¤.", cat: "study" },
    { t: "ëª¨ë¥´ëŠ” ë¶„ì•¼ì— ëŒ€í•´ ìŠ¤ìŠ¤ë¡œ ê³µë¶€í•˜ê³  ì •ë³´ë¥¼ ì°¾ì•„ë‚´ëŠ” ê²ƒì— ì‹œê°„ì„ ì“°ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤.", cat: "study" }
  ];

  let currentStep = 0;
  let scores = { risk: 0, study: 0, exp: 0 }; 
  let totalScore = 0;

  function checkPasswordAndStart() {
    const input = document.getElementById("passwordInput").value;
    if (input === CORRECT_PASSWORD) { startSurvey(); } 
    else { alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë¦½ë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•˜ì‹­ì‹œì˜¤."); document.getElementById("passwordInput").value = ""; document.getElementById("passwordInput").focus(); }
  }

  function startSurvey() {
    document.getElementById('intro').style.display = 'none';
    document.getElementById('quiz').style.display = 'block';
    renderQuestion();
  }

  function renderQuestion() {
    const container = document.getElementById('questionContainer');
    container.innerHTML = ''; // ê¸°ì¡´ ë‚´ìš© ì‚­ì œ (ì´ ê³¼ì •ì—ì„œ ë²„íŠ¼ DOMë„ ì‚­ì œë˜ì–´ ì”ìƒ ì œê±°)
    
    const q = questions[currentStep];
    const percent = ((currentStep) / questions.length) * 100;
    document.getElementById('progressBar').style.width = percent + '%';

    let optionsHTML = '';
    const labels = ["ë§¤ìš° ê·¸ë ‡ì§€ ì•Šë‹¤", "ê·¸ë ‡ì§€ ì•Šë‹¤", "ë³´í†µì´ë‹¤", "ê·¸ë ‡ë‹¤", "ë§¤ìš° ê·¸ë ‡ë‹¤"];
    
    labels.forEach((label, index) => {
        const score = index + 1;
        optionsHTML += `<button class="option-btn" onclick="handleSelect(this, ${score}, '${q.cat}')">${label}</button>`;
    });

    container.innerHTML = `
      <div class="question-box active">
        <h2>Q${currentStep + 1}.<br>${q.t}</h2>
        <div class="options">${optionsHTML}</div>
      </div>
    `;
  }

  function handleSelect(btn, score, category) {
      // 1. ëª¨ë“  ë²„íŠ¼ì—ì„œ selected ì œê±°
      const allBtns = document.querySelectorAll('.option-btn');
      allBtns.forEach(b => b.classList.remove('selected'));
      
      // 2. í˜„ì¬ ë²„íŠ¼ë§Œ í™œì„±í™”
      btn.classList.add('selected');

      // 3. ì ì‹œ í›„ ë‹¤ìŒ ë‹¨ê³„ (ë²„íŠ¼ DOM ìì²´ê°€ ì‚¬ë¼ì§€ë¯€ë¡œ ì”ìƒë„ ì‚¬ë¼ì§)
      setTimeout(() => {
          next(score, category);
      }, 250); 
  }

  function next(score, category) {
    totalScore += score;
    scores[category] += score;
    currentStep++;
    
    if (currentStep < questions.length) {
      renderQuestion();
    } else {
      showLoading();
    }
  }

  function showLoading() {
    document.getElementById('quiz').style.display = 'none';
    const loading = document.getElementById('loadingScreen');
    const text = document.getElementById('loadingText');
    loading.style.display = 'block';

    setTimeout(() => text.innerText = "ğŸ’° íˆ¬ì ì„±í–¥ ë¶„ì„ ì¤‘...", 800);
    setTimeout(() => text.innerText = "ğŸ“Š ë°ì´í„° ì‹œê°í™” ì¤‘...", 1800);
    setTimeout(() => { loading.style.display = 'none'; showResult(); }, 2500);
  }

  function showResult() {
    document.getElementById('quiz').style.display = 'none';
    document.getElementById('resultBox').style.display = 'block';

    let badgeText="", titleText="", product="", advice="", descText="";
    if (totalScore <= 20) {
      badgeText = "ì•ˆì •í˜• (Stability Focus)"; titleText = "ğŸ¿ï¸ ì†Œí™•í–‰ ì €ì¶• ë‹¤ëŒì¥"; descText = "\"ì†í•´?\" ê·¸ê²Œ ë­”ë°? ì–´ë–»ê²Œ í•˜ëŠ” ê±´ë°?."; product = "ì˜ˆê¸ˆ, êµ­ì±„"; advice = "ì›ê¸ˆ ë³´ì¥ì´ ìµœìš°ì„ ì…ë‹ˆë‹¤. ê¸ˆìœµ ì´í•´ë„ë¥¼ ë†’ì´ëŠ” ê¸°ì´ˆ ê°•ì˜ë¶€í„° ìˆ˜ê°•í•´ë³´ì„¸ìš”.";
    } else if (totalScore <= 30) {
      badgeText = "ì•ˆì • ì¶”êµ¬í˜• (Goal-Oriented)"; titleText = "ğŸ—ï¸ ì°¨ê³¡ì°¨ê³¡ ë¹Œë“œì—… ì¥ì¸"; descText = "\"ë¯¸ë˜ì˜ ë‚˜, ëˆ ë§ì´ ë²Œì–´ì™€.\"<br>ë‚œ ì”¨ì•—ë§Œ ë¿Œë ¤ë‘˜ê²Œ."; product = "ì ê¸ˆ, ì±„ê¶Œ í˜¼í•©í˜• í€ë“œ"; advice = "ëª©í‘œ ë‹¬ì„±ì„ ìœ„í•´ ê¾¸ì¤€í•¨ì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ìì‚° ë°°ë¶„ ì‹œë®¬ë ˆì´ì…˜ì„ í†µí•´ í¬íŠ¸í´ë¦¬ì˜¤ ê°ê°ì„ ìµíˆì„¸ìš”.";
    } else if (totalScore <= 40) {
      badgeText = "ìœ„í—˜ ì¤‘ë¦½í˜• (Market Follower)"; titleText = "ğŸ„ íŒŒë„ íƒ€ëŠ” íŠ¸ë Œë“œì„¸í„°"; descText = "\"ì´ë¦„ ëª¨ë¥¼ ì£¼ì‹?\" ì¼ë‹¨ ê²€ìƒ‰ì°½ë¶€í„° ì¼œê³ <br>ì‹œì‘í•˜ëŠ” í•™êµ¬ì—´ ë§Œë ™ íˆ¬ìì."; product = "ETF, ë°°ë‹¹ì£¼"; advice = "ì‹œì¥ íë¦„ì„ ì˜ ì½ìœ¼ì‹œëŠ”êµ°ìš”. ì‹¤ì‹œê°„ ì‹œì¥ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ëŠ” íˆ´ì„ í™œìš©í•´ íˆ¬ìë¥¼ ê³ ë„í™”í•˜ì„¸ìš”.";
    } else {
      badgeText = "ê³µê²©í˜• (Aggressive Growth)"; titleText = "ğŸ¦ ì•¼ìˆ˜ì˜ ì‹¬ì¥, ë¡œì¼“ë§¨"; descText = "\"ë¦¬ìŠ¤í¬ëŠ” ê¸°íšŒ!\"<br>ë‚´ ì‹¬ì¥ì€ ì°¨íŠ¸ë³´ë‹¤ ë¹ ë¥´ê²Œ ë›´ë‹¤."; product = "ì£¼ì‹, ì•”í˜¸í™”í, íŒŒìƒìƒí’ˆ"; advice = "í•˜ì´ ë¦¬ìŠ¤í¬, í•˜ì´ ë¦¬í„´! í•˜ì§€ë§Œ ê°ë³´ë‹¤ ë°ì´í„°ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤. ì•Œê³ ë¦¬ì¦˜ íŠ¸ë ˆì´ë”©ì´ë‚˜ ì°¨íŠ¸ ë¶„ì„ ì‹¬í™” ê³¼ì •ì„ ì¶”ì²œí•©ë‹ˆë‹¤.";
    }

    document.getElementById("resultBadge").textContent = badgeText;
    document.getElementById("resultTitle").textContent = titleText;
    document.getElementById("resultDesc").innerHTML = descText;
    document.getElementById("resultProduct").textContent = product;
    document.getElementById("resultAdvice").textContent = advice;

    const ctx = document.getElementById('resultChart').getContext('2d');
    new Chart(ctx, {
      type: 'radar',
      data: {
        labels: ['ìœ„í—˜ ê°ìˆ˜(Risk)', 'í•™ìŠµ ì„±í–¥(Study)', 'ê²½í—˜ ì¤‘ì‹œ(Exp)'],
        datasets: [{
          label: 'ë‚˜ì˜ ì„±í–¥', data: [scores.risk, scores.study, scores.exp],
          backgroundColor: 'rgba(79, 70, 229, 0.2)', borderColor: '#4F46E5', pointBackgroundColor: '#4F46E5',
        }]
      },
      options: {
        maintainAspectRatio: false, responsive: true, layout: { padding: 0 },
        scales: { r: { beginAtZero: true, max: 20, ticks: { display: false } } },
        plugins: { legend: { display: false } }
      }
    });
  }

  function copyResult() {
    const title = document.getElementById('resultTitle').innerText;
    const badge = document.getElementById('resultBadge').innerText;
    const dummy = document.createElement("textarea");
    document.body.appendChild(dummy);
    dummy.value = `[ëŒ€í•™ìƒ íˆ¬ì ì„±í–¥ ë¦¬í¬íŠ¸]\në‚˜ì˜ ìœ í˜•: ${badge}\nìºë¦­í„°: ${title}\n\nê°™ì´ í…ŒìŠ¤íŠ¸ í•´ë³¼ë˜?\nhttps://b30m.github.io/edutech/`;
    dummy.select();
    document.execCommand("copy");
    document.body.removeChild(dummy);
    alert("ê²°ê³¼ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!");
  }
</script>

</body>
</html>
